<!-- templates/schedule/calendar.html -->
{% extends 'base.html' %}

{% block head %}
  {{ super() }}
  <!-- FullCalendar CSS -->
  <link
    href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/main.min.css"
    rel="stylesheet"
  />
  <style>
    /* イベント折り返し／高さ自動調整 */
    .fc .fc-daygrid-event {
      white-space: normal !important;
      height: auto !important;
    }
    .fc .fc-daygrid-event .fc-event-title {
      overflow-wrap: break-word;
    }
    /* 祝日セルの背景色 */
    .fc .holiday {
      background-color: #fff5cc;
    }
  </style>
{% endblock %}

{% block content %}
  <h2>カレンダー（稲沢工場D棟 の工程表）</h2>
  <!-- ここで holiday_list を data-holidays に JSON として渡す -->
  <div
    id="calendar"
    data-holidays='{{ holiday_list|tojson }}'
  ></div>
{% endblock %}

{% block scripts %}
  {{ super() }}
  <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/locales-all.global.min.js"></script>
  <script src="{{ url_for('static', filename='js/calendar.js') }}"></script>
{% endblock %}

