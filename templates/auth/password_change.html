{% extends "base.html" %}
{% block content %}
<div class="container mt-4" style="max-width: 600px;">
  <h3>パスワード変更</h3>
  <form method="POST">
    <div class="mb-3">
      <label>現在のパスワード</label>
      <div class="input-group">
        <input type="password" name="old_password" id="old_password" class="form-control" required>
        <button type="button" class="btn btn-outline-secondary" onclick="togglePassword('old_password', this)">🙈</button>
      </div>
    </div>
    <div class="mb-3">
      <label>新しいパスワード</label>
      <div class="input-group">
        <input type="password" name="new_password" id="new_password" class="form-control" required>
        <button type="button" class="btn btn-outline-secondary" onclick="togglePassword('new_password', this)">🙈</button>
      </div>
    </div>
    <div class="mb-3">
      <label>新しいパスワード（確認）</label>
      <div class="input-group">
        <input type="password" name="new_password2" id="new_password2" class="form-control" required>
        <button type="button" class="btn btn-outline-secondary" onclick="togglePassword('new_password2', this)">🙈</button>
      </div>
    </div>
    <button type="submit" class="btn btn-primary w-100">変更する</button>
  </form>
</div>
{% endblock %}

{% block scripts %}
<script>
function togglePassword(inputId, btn) {
  const input = document.getElementById(inputId);
  if (input.type === "password") {
    input.type = "text";
    btn.textContent = "🙊";
  } else {
    input.type = "password";
    btn.textContent = "🙈";
  }
}
</script>
{% endblock %}
